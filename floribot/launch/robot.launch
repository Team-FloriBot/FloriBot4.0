<launch>
	<arg name="use_sim" default="true" />
	<arg name="PI" default="3.14159265359"/>
	<group if="$(arg use_sim)">
		<node pkg="tf2_ros" type="static_transform_publisher" name="axesFront2laserFront" args=" 0.387 0 0 1.0 0 0 0 axesFront laserFront"/>
		<node pkg="tf2_ros" type="static_transform_publisher" name="axesRear2laserRear" args=" -0.387 0 0 0 1.0 0 0 axesRear laserRear" />
		
		<!--Running laserscan merger-->
		<include file="$(find floribot)/launch/own_laserscan_multi_merger.launch"/>
		
		<!--Running kinematic-->
		<include file="$(find base)/launch/base_node.launch"/>

	</group>
	<group unless="$(arg use_sim)">
		<!--Adding TF publisher for angle-->
		<!--node pkg="base" type="angle2tf" name="angle2tf"/-->
		
		<!--Availible soon-->
		<!--include file="$(find floribot)/launch/own_scanner.launch" >
			<rosparam file="$(find floribot)/paramFiles/scanner_front_param.yaml" command="load" />
			<arg name="use_sim" value="$(arg use_sim)"/>
		</include>

		<include file="$(find floribot)/launch/own_scanner.launch" >
			<rosparam file="$(find floribot)/paramFiles/scanner_rear_param.yaml" command="load" />
			<arg name="use_sim" value="$(arg use_sim)"/>
		</include-->
		
		<include file="$(find base)/launch/base_node.launch"/>

		<!--include file="$(find floribot)/launch/own_scanner.launch" >
			<rosparam file="$(find floribot)/param/scanner_front_param.yaml" command="load" />
		</include>

		<include file="$(find floribot)/launch/own_scanner.launch" >
			<rosparam file="$(find floribot)/param/scanner_rear_param.yaml" command="load" />
		</include-->
	
		<!--include file="$(find plc_connection)/launch/plc_connection.launch" /-->
	</group>	

</launch>
